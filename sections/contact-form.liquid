<div class="index-section">
  <div class="page-width{% if section.settings.narrow_column %} page-width--narrow{% endif %} echo-container">
    <div class="page-links medium-up--two-fifths">
      {% for page in pages %}
        <a class="page-link" href="{{ page.url }}" data-handle="{{ page.handle }}">{{ page.title }}</a>
      {% endfor %}
    </div>
    <div class="medium-up--three-fifths">
      {%- if section.settings.title != blank -%}
        <div class="section-header">
          <h2 class="section-header__title echo-header">
            {{ section.settings.title }}
          </h2>
          {%- if section.settings.text != blank -%}
            <div class="rte section-header__rte echo-text">{{ section.settings.text }}</div>
          {%- endif -%}
        </div>
      {% endif %}

      <div class="form-vertical">
        {%- assign form_id = 'contact-' | append: section.id -%}
        {%- form 'contact', id: form_id -%}
          <div class="grid grid--small">
            <div class="grid__item medium-up--one-whole">
              <p class="echo-required">*Required</p>
            </div>
            <div class="grid__item medium-up--one-whole">
              <label for="ContactFormFirstName-{{ section.id }}">{{ 'contact.form.first_name' | t }}<sup>*</sup></label>
              <input placeholder="First Name" type="text" id="ContactFormFirstName-{{ section.id }}" class="input-full" name="contact[first_name]" autocapitalize="words" value="{% if form.first_name %}{{ form.first_name }}{% elsif customer %}{{ customer.first_name }}{% endif %}">
            </div>
            <div class="grid__item medium-up--one-whole">
              <label for="ContactFormLastName-{{ section.id }}">{{ 'contact.form.last_name' | t }}<sup>*</sup></label>
              <input type="text" placeholder="Last Name" id="ContactFormLastName-{{ section.id }}" class="input-full" name="contact[last_name]" autocapitalize="words" value="{% if form.last_name %}{{ form.last_name }}{% elsif customer %}{{ customer.last_name }}{% endif %}">
            </div>
            {% comment %} <div class="grid__item medium-up--one-whole">
              <label for="ContactFormName-{{ section.id }}">{{ 'contact.form.name' | t }}</label>
              <input type="text" id="ContactFormName-{{ section.id }}" class="input-full" name="contact[name]" autocapitalize="words" value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}">
            </div> {% endcomment %}

            <div class="grid__item medium-up--one-whole">
              <label for="ContactFormEmail-{{ section.id }}">{{ 'contact.form.email' | t }}<sup>*</sup></label>
              <input type="email" placeholder="Email" id="ContactFormEmail-{{ section.id }}" class="input-full" name="contact[email]" autocorrect="off" autocapitalize="off" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}">
            </div>
          </div>

          {%- if section.settings.show_phone -%}
            <label for="ContactFormPhone-{{ section.id }}">{{ 'contact.form.phone' | t }}<sup>*</sup></label>
            <input type="tel" placeholder="Phone Number" id="ContactFormPhone-{{ section.id }}" class="input-full" name="contact[phone]" pattern="[0-9\-]*" value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}">
          {%- endif -%}

          <div class="grid grid--small">
            {% comment %} <div class="grid__item medium-up--one-whole">
              <label for="ContactFormSubject-{{ section.id }}">{{ 'contact.form.subject' | t }}<sup>*</sup></label>
              <input type="text" placeholder="Subject" id="ContactFormSubject-{{ section.id }}" class="input-full" name="contact[subject]" autocapitalize="words" value="{% if form.subject %}{{ form.subject }}{% elsif customer %}{{ customer.name }}{% endif %}">
            </div> {% endcomment %}

            <div class="grid__item medium-up--one-whole">
              <label for="ContactFormSubject-{{ section.id }}">{{ 'contact.form.subject' | t }}<span>*</span></label>
              <select id="ContactFormSubject-{{ section.id }}" class="input-full contact-form-select" name="contact[subject]" required>
                <option value="">Please Select Subject</option>
                <option value="Product Query">Product Query</option>
                <option value="Order Query">Order Query</option>
                <option value="Returns or Exchange">Returns or Exchange</option>
                <option value="Press">Press</option>
                <option value="Wholesale">Wholesale</option>
                <option value="Affiliate">Affiliate</option>
                <option value="8">Other</option>
              </select>
            </div>

            <div class="grid__item medium-up--one-whole commonHide hide contact-order">
              <label for="ContactFormOrder-{{ section.id }}">{{ 'contact.form.order_no' | t }}</label>
              <input type="text" id="ContactFormOrder-{{ section.id }}" class="input-full" name="contact[order]" value="{% if form.order %}{{ form.order }}{% endif %}">
            </div>
            <div class="grid__item medium-up--one-whole commonHide hide publisher">
              <label for="ContactFormPublisher-{{ section.id }}">{{ 'contact.form.publisher' | t }}</label>
              <input type="text" id="ContactFormPublisher-{{ section.id }}" class="input-full" name="contact[publisher]" value="{% if form.publisher %}{{ form.publisher }} {% endif %}">
            </div>
            <div class="grid__item medium-up--one-whole commonHide hide company">
              <label for="ContactFormCompany-{{ section.id }}">{{ 'contact.form.company' | t }}</label>
              <input type="text" id="ContactFormCompany-{{ section.id }}" class="input-full" name="contact[company]" value="{% if form.company %}{{ form.company }} {% endif %}">
            </div>
            <div class="grid__item medium-up--one-whole commonHide hide website">
              <label for="ContactFormWebsite-{{ section.id }}">{{ 'contact.form.website' | t }}</label>
              <input type="text" id="ContactFormWebsite-{{ section.id }}" class="input-full" name="contact[website]" value="{% if form.website %}{{ form.website }} {% endif %}">
            </div>

            {% comment %} <div class="grid__item medium-up--one-whole">
              <label for="ContactFormOrderNo-{{ section.id }}">{{ 'contact.form.order_no' | t }}</label>
              <input type="text" placeholder="Order no" id="ContactFormOrderNo-{{ section.id }}" class="input-full" name="contact[order_no]" autocapitalize="words" value="{% if form.order_no %}{{ form.order_no }}{% elsif customer %}{{ customer.name }}{% endif %}">
            </div> {% endcomment %}
          </div>

          <label for="ContactFormMessage-{{ section.id }}">{{ 'contact.form.message' | t }}<sup>*</sup></label>
          <textarea rows="17" placeholder="Message" id="ContactFormMessage-{{ section.id }}" class="input-full" name="contact[body]">{% if form.body %}{{ form.body }}{% endif %}</textarea>

          <label for="contact-form-submit-{{ section.id }}" class="hidden-label">{{ 'contact.form.send' | t }}</label>
          <button type="submit" id="contact-form-submit-{{ section.id }}" class="btn echo-btn">
            {{ 'contact.form.send' | t }}
          </button>
          {%- if form.posted_successfully? -%}
            {% comment %} <p class="note note--success">
              {{ 'contact.form.post_success' | t }}
            </p> {% endcomment %}
            <button type="button" id="contact-form-submit-{{ section.id }}" class="btn echo-btn">
              {{ 'contact.form.thank_you' | t }}
            </button>
          {%- endif -%}
          {% comment %} <button type="button" id="contact-form-submit-{{ section.id }}" class="btn echo-btn thank-you">
            {{ 'contact.form.thank_you' | t }}
          </button>

          {{ form.errors | default_errors }} {% endcomment %}

          {% comment %}
            Remove the following three lines of code to remove the note
            about being protected by Google's reCAPTCHA service.
            By removing it, the small reCAPTCHA widget will appear in the
            bottom right corner of the page.
          {% endcomment %}
          {% comment %} {{ 'shopify.online_store.spam_detection.disclaimer_html' | t }} {% endcomment %}

        {%- endform -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "t:sections.contact-form.name",
  "class": "index-section",
  "settings": [
    {
      "type": "paragraph",
      "content": "t:sections.contact-form.settings.content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "t:sections.contact-form.settings.title.label",
      "default": "Contact us"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "t:sections.contact-form.settings.text.label"
    },
    {
      "type": "checkbox",
      "id": "show_phone",
      "label": "t:sections.contact-form.settings.show_phone.label"
    },
    {
      "type": "checkbox",
      "id": "narrow_column",
      "label": "t:sections.contact-form.settings.narrow_column.label",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "t:sections.contact-form.presets.contact_form.name"
    }
  ]
}
{% endschema %}

{% style %}
/* Changes to accomadate recent design changes - Developer Mahbub - 03/01/2023 */
input, select{
  border: none;
  border-bottom: 1px solid;
  border-color: {{ settings.color_borders | default: "#1c1d1d" }};
  border-color: var(--colorBorder);
  width: 581px;
  max-width: 100%;
  padding: 8px 10px;
  padding-left: 0;
  border-radius: 0;
  font-size: 12.5px;
  line-height: 21px;
  letter-spacing: 0.05em;
}

.echo-required {
  text-align: left;
  color: #000000;
  margin-bottom: 48px;
}

input, textarea, select {
  max-width: 581px;
}

input:active,
input:focus,
select:active,
select:focus {
  border: none;
  border-bottom: 1px solid;
  outline: none;
}
.form-vertical input, .form-vertical select, .form-vertical textarea {
  margin-bottom: 55px;
}

.label, label:not(.variant__button-label):not(.text-label), .echo-required {
  font-size: 12.5px;
  line-height: 21px;
  letter-spacing: 0.05em;
}

.section-header__title.echo-header {
  font-size: 100px;
  text-align: left;
  margin-bottom: 57px;
}
[data-type_headers_align_text=true] .section-header {
text-align: left;
}
.echo-container {
  display: flex;
  flex-direction: row;
}

.page-links {
  display: flex;
  flex-direction: column;
  padding-top: 42px;
  padding-left: 70px;
}

.echo-text {
  font-size: 26px;
  max-width: 585px;
}

.btn.echo-btn, .btn.echo-btn.thank-you {
  border: 0.75px solid #2B2725;
  background-color: white;
  color: #2B2725;
  font-size: 14px;
  line-height: 18px;
  letter-spacing: 0.05em;
  display: block;
  /* transition-delay: 0.25s; */
  transition: color .2s ease 0.25s;
  width: 350px;
}

.btn.echo-btn:hover {
  color: #ffffff;
}

.page-link {
  font-size: 12.5px;
  line-height: 26px;
  letter-spacing: 0.05em;
  color: #2B2725;
}

.page-link.active {
  text-decoration: underline;
}

.form-vertical .commonHide.hide {
  display: none;
}

{% endstyle %}

<script>
  const pageLinks = document.querySelectorAll(".page-link")
  pageLinks.forEach(link=>{
    if (window.location.pathname.indexOf(`${link.dataset.handle}`) !== -1) {
      link.classList.add("active")
    }
    else {
      link.classList.remove("active")
    }
  })

  function hideElement(targetClassName) {
    if (targetClassName !== '8' ){
      const inputToShow = document.querySelector(`.${targetClassName}`)
      inputToShow.classList.remove('hide')
      const commonHideElements = document.querySelectorAll(".commonHide")
      commonHideElements.forEach(element=>{
          if (element != inputToShow){
            const flag = element.classList.contains("hide")
            switch (flag) {
              case true: //do nothing
              case false: element.classList.add("hide")
            } 
          }
      })
    }
    else {
      const commonHideElements = document.querySelectorAll(".commonHide")
      commonHideElements.forEach(element=>{
        if (!element.classList.contains("hide")){
          element.classList.add('hide')
        }
      })
    }
  }

  function selectValueChange() {
    var selectElement = document.querySelector("select.contact-form-select")
    selectElement.addEventListener('change', (e=>{
      e.preventDefault()
      const value = e.target.value
      switch(value) {
        case 'Affiliate' : hideElement('website'); break;
        case 'Wholesale': hideElement('company'); break;
        case 'Press': hideElement('publisher'); break;
        case 'Returns or Exchange': hideElement('contact-order'); break;
        case 'Product Query': hideElement('8'); break;
        case 'Order Query': hideElement('contact-order'); break;
        case '8': hideElement('8'); break;
        case '': hideElement('8'); break;
      }
      
    }))
  }
  selectValueChange()
 
</script>
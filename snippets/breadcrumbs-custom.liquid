{% if settings.show_custom_breadcrumbs == true %}

{% unless template.name == 'index' or template.name == 'cart' %}
  <nav class="custom-breadcrumb" role="navigation" aria-label="breadcrumbs">
    <a href="{{ routes.root_url }}" title="{{ 'general.breadcrumbs.home_link_title' | t }}">{{ 'general.breadcrumbs.home' | t }}</a>

    {% if template.name == 'product' %}

      {% if collection %}
        <span class="custom-divider" aria-hidden="true"></span>
        {% if collection.handle %}
          {% capture url %}/collections/{{ collection.handle }}{% endcapture %}
          {{ collection.title | link_to: url }}
        {% endif %}
      {% endif %}
      	<span class="custom-divider" aria-hidden="true"></span>
      {% if product.title %}
          {{ product.title }}
      {% endif %}

    {% elsif template.name == 'collection' and collection.handle %}

      <span class="custom-divider" aria-hidden="true"></span>
      {% if current_tags %}
    
        {% capture url %}/collections/{{ collection.handle }}{% endcapture %}
        {{ collection.title | link_to: url }}
		
    	{% comment %}
          <!--  Hide tag breadcrumb    -->
          <span class="custom-divider" aria-hidden="true"></span>

          {% for tag in current_tags %}
            {%- include 'filter-out-custom-tags' -%}

            {%- assign tag_name = tag | strip -%}
            {%- assign tag_text = tag_name | capitalize -%}
            <span>{{ tag_text }}</span>

            {% unless forloop.last %}
              <span>+</span>
            {% endunless %}
          {% endfor %}
    	{% endcomment %}
    
      {% else %}
    
      	  {{ collection.title | link_to: url }}
    
      {% endif %}

    {% elsif template.name == 'blog' %}

      <span class="custom-divider" aria-hidden="true"></span>
      
      {% if current_tags %}
    	<a href="{{ blog.url }}">Journal</a>
	    <span class="custom-divider" aria-hidden="true"></span>
        <span>{{ current_tags | join: " + " }}</span>
      {% else %}
        {% if blog.url == '/blogs/all' %}
        	Journal
    	{% else %}
    		{{ blog.title }}
        {% endif %}
      {% endif %}

    {% elsif template.name == 'article' %}

      <span class="custom-divider" aria-hidden="true"></span>
      {% if blog.url == '/blogs/all' %}
        <a href="{{ blog.url }}">Journal</a>
        <span class="custom-divider" aria-hidden="true"></span>
	  {% endif %}
      {{ blog.title | link_to: blog.url }}
      <span class="custom-divider" aria-hidden="true"></span>
      {{ article.title }}

    {% elsif template.name == 'page' %}

      <span class="custom-divider" aria-hidden="true"></span>
      <span>{{ page_title }}</span>
 
    {% else %}

      <span class="custom-divider" aria-hidden="true"></span>
      <span>{{ page_title }}</span>

    {% endif %}
  </nav>

<style>
  	.custom-breadcrumb {
    	font-size: 14px;
      	color: #333347;
      	line-height: 22.4px;
    }
  	.custom-breadcrumb a {
        color: #333347;
    }
	.custom-divider { 
      	width: 22px;
    	height: 22px;
      	background-image: url("{{ settings.mid-image | img_url: 'master' }}");
        background-repeat: no-repeat;
        background-position: center;
        background-size: 10px 10px;
    }
    nav.custom-breadcrumb > * {
    	display: inline-block;
    	float: left;
    }
    nav.custom-breadcrumb::after {
      content: "";
      display: table;
      clear: both;
    }
  
  @media only screen and (max-width: 768px) {
   .custom-breadcrumb {
   	  display: none;
   }
  }
</style>
{% endunless %}

{% endif %}

{% if section.settings.divider %}<div class="section--divider">{% endif %}


  {% if section.settings.title != blank %}
    <div class="section-header">
      <h2>{{ section.settings.title }}</h2>
      <h4>{{ section.settings.sub-heading }}</h4>
    </div>
  {% endif %}
  <div class="video-wrapper">
  {% if section.settings.video_url == blank %}
    <iframe src="//www.youtube.com/embed/_9VUPq3SxOc?rel=0&showinfo=0&vq=720" width="850" height="480" frameborder="0" allowfullscreen></iframe>
  {% else %}
    {% if section.settings.video_url contains 'youtube.com/watch' %}
      <iframe src="//www.youtube.com/embed/{{ section.settings.video_url.id }}?rel=0&showinfo=0&vq=720" width="850" height="480" frameborder="0" allowfullscreen></iframe>
    {% endif %}
    {% if section.settings.video_url.type == "vimeo" %}
      <iframe src="//player.vimeo.com/video/{{ section.settings.video_url.id }}?color={{ settings.color_button | remove: "#" }}&byline=0&portrait=0&badge=0" width="850" height="480" frameborder="0" allowfullscreen></iframe>
    {% endif %}
    {% if section.settings.video_url contains '.mp4' %}
        <video
          id="Mp4VideoPromotion"
          class="video_player"
          src="{{ section.settings.video_url }}"
          loop muted controls playsinline autoplay></video>
      {% endif %}
  {% endif %}
  </div>


{% if section.settings.divider %}</div>{% endif %}


{% schema %}
  {
    "name": "Video",
    "class": "index-section",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading"
      },
	  {
        "type": "text",
        "id": "sub-heading",
        "label": "Sub Heading"
      },
      {
        "type": "text",
        "id": "video_url",
        "label": "Video link",
         "info": "Supports YouTube, .MP4 and Vimeo. Not all features supported by Vimeo. [Learn more](https://archetypethemes.co/blogs/impulse/how-do-i-add-background-videos)"
      },
      {
        "type": "checkbox",
        "id": "divider",
        "label": "Show section divider",
        "default": false
      }
    ],
    "presets": [
      {
        "name": "Video",
        "category": "Video"
      }
    ]
  }
{% endschema %}
<style>
  .video-wrapper {
  	height:0;
  }
  .section-header h2 {
  text-transform: capitalize;
  }  
  #Mp4VideoPromotion {
  	width:100%
  }  
.section-header h4 {
  font-size: 18px;
    letter-spacing: 0.1em;
    font-weight: 600;
    text-transform: none;
  }
</style>